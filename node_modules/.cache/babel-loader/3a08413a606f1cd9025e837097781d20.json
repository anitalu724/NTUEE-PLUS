{"ast":null,"code":"var _jsxFileName = \"/home/noidname/\\u684C\\u9762/NTUEE-PLUS/src/out/Login.js\";\nimport React, { Component } from 'react';\nimport './Login.css';\nimport eesa_icon from '../images/eesa-icon.png';\nimport fb_icon from '../images/social_fb.png';\nimport Footer from \"../component/Footer\";\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport { NavBar } from '../component/AppBar';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Login_username_input: '',\n      Login_password_input: '',\n      isLogin: null\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.id;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(this.state);\n\n    if (false) {\n      alert(\"一些判斷式\");\n    } else {\n      var r = window.confirm(\"確認登入?\");\n\n      if (r) {\n        //window.location = \"/Home_in\";\n        axios.post(\"/api/login\", {\n          account: this.state.Login_username_input,\n          password: this.state.Login_password_input\n        }).then(res => {\n          console.log(res.data);\n\n          if (res.data) {\n            if (res.data.message === true) {\n              alert('登入成功，歡迎：' + res.data.data.username); //window.location = \"/\";\n\n              this.setState({\n                isLogin: true\n              });\n            } else {\n              alert(\"錯誤：\\n\" + res.data.description);\n            }\n          }\n        });\n      }\n    }\n  }\n\n  render() {\n    if (this.state.isLogin) {\n      return React.createElement(Redirect, {\n        to: \"/in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      id: \"Login_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Login_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Login_username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Login_username_tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Username:\"), React.createElement(\"input\", {\n      id: \"Login_username_input\",\n      className: \"Login_input\",\n      placeholder: \"username\",\n      autoFocus: true,\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Login_password1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Login_password_tag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"input\", {\n      id: \"Login_password_input\",\n      className: \"Login_input\",\n      placeholder: \"password\",\n      type: \"password\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Login_links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Link, {\n      id: \"Login_create\",\n      to: \"/Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Create a new account\"), React.createElement(Link, {\n      id: \"Login_forgot\",\n      to: \"/Forget\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Forgot your password?\"))), React.createElement(\"input\", {\n      id: \"Login_submit\",\n      type: \"submit\",\n      value: \"LOGIN\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"Login_hr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\xA0\\xA0\\xA0or login with...\"), React.createElement(\"div\", {\n      id: \"LoginFB_submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"Login_FB_icon\",\n      src: fb_icon,\n      alt: \"fb_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      id: \"Login_FB_url\",\n      href: \"https://www.facebook.com/groups/2484604148528585/\",\n      target: \"_blank\",\n      title: \"Facebook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Facebook\"))), React.createElement(\"footer\", {\n      id: \"index_footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/noidname/桌面/NTUEE-PLUS/src/out/Login.js"],"names":["React","Component","eesa_icon","fb_icon","Footer","Link","Redirect","axios","NavBar","Login","constructor","props","state","Login_username_input","Login_password_input","isLogin","handleInputChange","bind","handleSubmit","event","target","value","name","id","setState","preventDefault","console","log","alert","r","window","confirm","post","account","password","then","res","data","message","username","description","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Login.css';\nimport eesa_icon from '../images/eesa-icon.png';\nimport fb_icon from '../images/social_fb.png'\nimport Footer from \"../component/Footer\";\nimport { Link,Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport { NavBar } from '../component/AppBar';\nclass Login extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  Login_username_input: '',\n\t\t  Login_password_input: '',\n\t\t  isLogin: null\n\t\t};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\t\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\tthis.setState({\n\t\t  [name]: value\n\t\t});\n\t}\n\t\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tconsole.log(this.state);\n\t\tif(false){\n\t\t\talert(\"一些判斷式\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認登入?\");\n\t\t\tif(r){\n\t\t\t\t//window.location = \"/Home_in\";\n\t\t\t\t\n\t\t\t\taxios.post(\"/api/login\", \n\t\t\t\t\t{account:this.state.Login_username_input,\n\t\t\t\t\tpassword:this.state.Login_password_input}\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res.data){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('登入成功，歡迎：'+res.data.data.username);\n\t\t\t\t\t\t\t\t//window.location = \"/\";\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tisLogin:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert(\"錯誤：\\n\"+res.data.description);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n    render(){\n\t\tif(this.state.isLogin){\n\t\t\treturn <Redirect to=\"/in\" />\n\t\t}\n\t\t\n        return (\n            <div id=\"Login_container\">\n\t\t\t<NavBar/> \n\t\t\t<form onSubmit={this.handleSubmit}>\n                <div id=\"Login_input\">\n                        <div id=\"Login_username\">\n                            <p id=\"Login_username_tag\">Username:</p>\n                            <input id=\"Login_username_input\" className=\"Login_input\" placeholder=\"username\" autoFocus\n\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t></input>\n                        </div>\n                        <div id=\"Login_password1\">\n                            <p id=\"Login_password_tag\">Password:</p>\n                            <input id=\"Login_password_input\" className=\"Login_input\" placeholder=\"password\" type=\"password\"\n\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t></input>\n                        </div>\n\t\t\t\t\t<div id=\"Login_links\">\n\t\t\t\t\t\t<Link id = \"Login_create\" to=\"/Register\">Create a new account</Link>\n\t\t\t\t\t\t<Link id = \"Login_forgot\" to=\"/Forget\">Forgot your password?</Link>\n\t\t\t\t\t</div>\n                </div>\n\t\t\t\t\n                <input id=\"Login_submit\" type=\"submit\" value=\"LOGIN\"/>\n\t\t\t\t<div id=\"Login_hr\">&nbsp;&nbsp;&nbsp;or login with...</div>\n\t\t\t\t<div id=\"LoginFB_submit\">\n\t\t\t\t\t<img id=\"Login_FB_icon\" src={fb_icon} alt=\"fb_icon\"></img>\n\t\t\t\t\t<a id=\"Login_FB_url\" href=\"https://www.facebook.com/groups/2484604148528585/\" target=\"_blank\" title=\"Facebook\">Facebook</a>\n\t\t\t\t</div>\n            </form>\n\t\t\t\n                {/*<div id=\"Login_footer\">\n                    <img id=\"Login_logo\" src={eesa_icon} alt=\"logo\" ></img>\n                    <p id=\"Login_footer_text\">聯絡信箱 : ntueesa@gmail.com</p>\n                    <p id=\"Login_footer_text_2\">台灣大學電機工程學系 系學會</p>\n\t\t</div>*/}\n\t\t<footer id=\"index_footer\"><Footer/></footer>\n            </div>\n        )\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}