{"ast":null,"code":"var _jsxFileName = \"/Users/anitalu/Desktop/NTUEE-PLUS/src/out/Register.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Register.css';\nimport eesa_icon from '../images/eesa-icon.png';\nimport axios from 'axios';\nimport { NavBar } from '../component/AppBar';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Register_realname: '',\n      Register_student_id: '',\n      Register_password: '',\n      Register_confirm_password: '',\n      imagePreviewUrl: '',\n      file: null\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.id;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (false) {\n      //this.state.Register_password!==this.state.Register_confirm_password){\n      return alert(\"密碼不一致\");\n    } else {\n      var r = window.confirm(\"確認註冊?\");\n\n      if (r) {\n        var data = new FormData();\n        data.append('file', this.state.file);\n        data.append('username', this.state.Register_realname);\n        data.append('account', this.state.Register_student_id);\n        data.append('password', this.state.Register_password);\n        data.append('ConfirmPassword', this.state.Register_confirm_password);\n        console.log('data', data);\n        const config = {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        };\n        axios.post(\"/api/register\", data\n        /*{username:this.state.Register_realname,\n        account:this.state.Register_student_id,\n        password:this.state.Register_password,\n        ConfirmPassword:this.state.Register_confirm_password,\n        file:this.state.file}*/\n        , config).then(res => {\n          console.log(res.data);\n\n          if (res) {\n            if (res.data.message === true) {\n              alert('註冊成功');\n              window.location = \"/Login\";\n            } else {\n              alert('錯誤：\\n' + res.data.description);\n            }\n          }\n        }).catch(err => {\n          console.log(\"err=\", err); //[{value:\"使用者填的值\",msg:\"錯的原因\",param:\"用他拿到是誰錯\",location:\"body\"}]\n        });\n      }\n    }\n  }\n\n  handleImageChange(e) {\n    //e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    console.log('t', e.target);\n    this.setState({\n      file: file\n    });\n\n    reader.onloadend = () => {\n      console.log('onloadend');\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n    console.log(this.state.file);\n  }\n\n  render() {\n    let imagePreviewUrl = this.state.imagePreviewUrl;\n    let $imagePreview = null;\n\n    if (imagePreviewUrl) {\n      $imagePreview = React.createElement(\"img\", {\n        src: imagePreviewUrl,\n        id: \"Register_id_photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      });\n    } else {\n      $imagePreview = React.createElement(\"div\", {\n        className: \"previewText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Please select an Image for Preview\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"Register_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Register_register_table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"Register_table_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Just A Few Steps to Join EE+!\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Register_table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Register_input1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_realname_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Your Name\"), React.createElement(\"input\", {\n      id: \"Register_realname\",\n      placeholder: \"Your Chinese Name\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Register_input2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_ID_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Student ID\"), React.createElement(\"input\", {\n      id: \"Register_student_id\",\n      placeholder: \"Student ID\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Register_input3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_password_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      id: \"Register_password\",\n      placeholder: \"Set Your Password\",\n      type: \"password\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Register_input4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_confirm_password_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Confirm Password\"), React.createElement(\"input\", {\n      id: \"Register_confirm_password\",\n      placeholder: \"Confirm Your Password\",\n      type: \"password\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Register_input5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_question_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Question\"), React.createElement(\"input\", {\n      id: \"Register_question\",\n      placeholder: \"ex: the name of your first pet, etc...\",\n      type: \"text\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Register_input6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_image_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Upload Image\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"fileInput\",\n      id: \"Register_fileinput\",\n      type: \"file\",\n      onChange: this.handleImageChange,\n      name: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      id: \"Register_addImage_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"\\u2795 \", React.createElement(\"p\", {\n      style: {\n        display: \"inline\",\n        fontSize: \"18px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Add Your ID Photo\"))))), React.createElement(\"button\", {\n      id: \"Register_register_button\",\n      onclick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"Register_register_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Register\")))), React.createElement(\"div\", {\n      id: \"Register_FAQ\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"Register_FAQ_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"FAQ\"), React.createElement(Link, {\n      to: \"/Register/pages/Register_account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Recruitment\"), React.createElement(\"div\", {\n      id: \"Register_splitline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"Register_FAQ_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      id: \"Register_FAQ_list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"ID photo should contain your \", React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"full name\"), \" and \", React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"intact, clear face\"), \".\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"The size of photo is at most 1MB.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"...\"))), React.createElement(\"div\", {\n      id: \"Register_FAQ_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Image Preview\"), React.createElement(\"div\", {\n      id: \"Register_splitline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"imgPreview\",\n      id: \"Register_imgPreview\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, $imagePreview))));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/anitalu/Desktop/NTUEE-PLUS/src/out/Register.js"],"names":["React","Component","Link","eesa_icon","axios","NavBar","Register","constructor","props","state","Register_realname","Register_student_id","Register_password","Register_confirm_password","imagePreviewUrl","file","handleInputChange","bind","handleSubmit","handleImageChange","event","target","value","name","id","setState","preventDefault","alert","r","window","confirm","data","FormData","append","console","log","config","headers","post","then","res","message","location","description","catch","err","e","reader","FileReader","files","onloadend","result","readAsDataURL","render","$imagePreview","display","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Register.css';\nimport eesa_icon from '../images/eesa-icon.png';\nimport axios from 'axios';\nimport { NavBar } from '../component/AppBar';\nclass Register extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  Register_realname: '',\n\t\t  Register_student_id: '',\n\t\t  Register_password: '',\n\t\t  Register_confirm_password: '',\n\t\t  imagePreviewUrl: '',\n\t\t  file: null\n\t\t};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleImageChange = this.handleImageChange.bind(this);\n\t}\n\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\t\n\t\tthis.setState({\n\t\t  [name]: value\n\t\t});\n\t}\n\t\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tif(false){//this.state.Register_password!==this.state.Register_confirm_password){\n\t\t\treturn alert(\"密碼不一致\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認註冊?\");\n\t\t\tif(r){\n\t\t\t\tvar data = new FormData();\n\t\t\t\tdata.append('file',this.state.file)\n\t\t\t\tdata.append('username',this.state.Register_realname)\n\t\t\t\tdata.append('account',this.state.Register_student_id)\n\t\t\t\tdata.append('password',this.state.Register_password)\n\t\t\t\tdata.append('ConfirmPassword',this.state.Register_confirm_password)\n\t\t\t\tconsole.log('data',data)\n\t\t\t\tconst config = {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'content-type': 'multipart/form-data'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\taxios.post(\"/api/register\",\n\t\t\t\t\tdata\n\t\t\t\t\t/*{username:this.state.Register_realname,\n\t\t\t\t\taccount:this.state.Register_student_id,\n\t\t\t\t\tpassword:this.state.Register_password,\n\t\t\t\t\tConfirmPassword:this.state.Register_confirm_password,\n\t\t\t\t\tfile:this.state.file}*/,\n\t\t\t\t\tconfig\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('註冊成功');\n\t\t\t\t\t\t\t\twindow.location = \"/Login\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert('錯誤：\\n'+res.data.description);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(\"err=\",err);\n\t\t\t\t\t//[{value:\"使用者填的值\",msg:\"錯的原因\",param:\"用他拿到是誰錯\",location:\"body\"}]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleImageChange(e) {\n\t\t//e.preventDefault();\n\n\t\tlet reader = new FileReader();\n\t\tlet file = e.target.files[0];\n\t\tconsole.log('t',e.target)\n\t\tthis.setState({\n\t\t\tfile:file\n\t\t})\n\t\treader.onloadend = () => {\n\t\t\tconsole.log('onloadend');\n\t\t  this.setState({\n\t\t\timagePreviewUrl: reader.result\n\t\t  });\n\t\t}\n\n\t\treader.readAsDataURL(file)\n\t\tconsole.log(this.state.file)\n\t}\n\t\n    render(){\n\t\tlet {imagePreviewUrl} = this.state;\n\t\tlet $imagePreview = null;\n\t\tif (imagePreviewUrl) {\n\t\t  $imagePreview = (<img src={imagePreviewUrl} id=\"Register_id_photo\"/>);\n\t\t} else {\n\t\t  $imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\n\t\t}\n        return(\n\t\t\t<div>\n\t\t\t\t<NavBar/> \n            <div id=\"Register_container\">\n\t\t\t\n                <div id=\"Register_register_table\">\n                    <h1 id=\"Register_table_title\">Just A Few Steps to Join EE+!</h1>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<div id=\"Register_table\">\n\t\t\t\t\t\t\t<div id=\"Register_input1\">\n\t\t\t\t\t\t\t\t<p id=\"Register_realname_label\">Your Name</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_realname\" placeholder=\"Your Chinese Name\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input2\">\n\t\t\t\t\t\t\t\t<p id=\"Register_ID_label\">Student ID</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_student_id\" placeholder=\"Student ID\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input3\">\n\t\t\t\t\t\t\t\t<p id=\"Register_password_label\">Password</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_password\" placeholder=\"Set Your Password\" type=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input4\">\n\t\t\t\t\t\t\t\t<p id=\"Register_confirm_password_label\">Confirm Password</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_confirm_password\" placeholder=\"Confirm Your Password\" type=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input5\">\n\t\t\t\t\t\t\t\t<p id=\"Register_question_label\">Question</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_question\" placeholder=\"ex: the name of your first pet, etc...\" type=\"text\"\n\t\t\t\t\t\t\t\t onChange = {this.handleInputChange}></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input6\">\n\t\t\t\t\t\t\t\t<p id=\"Register_image_label\">Upload Image</p>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input className=\"fileInput\" id=\"Register_fileinput\" \n\t\t\t\t\t\t\t\t\t\ttype=\"file\" \n\t\t\t\t\t\t\t\t\t\tonChange={this.handleImageChange} \n\t\t\t\t\t\t\t\t\t\tname=\"file\"/>\n\t\t\t\t\t\t\t\t<span id=\"Register_addImage_icon\">➕ <p style={{display:\"inline\",fontSize:\"18px\"}}>Add Your ID Photo</p></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button id=\"Register_register_button\" onclick={this.handleSubmit}>\n\t\t\t\t\t\t\t<p id=\"Register_register_text\">Register</p>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t</form>\n                </div>\n\t\t\t\t\n                <div id=\"Register_FAQ\">\n                    <div id=\"Register_FAQ_title\">FAQ</div>\n\t\t\t\t\t<Link to=\"/Register/pages/Register_account\" >Recruitment</Link>\n                    <div id=\"Register_splitline\"></div>\n                    <div id=\"Register_FAQ_content\">\n                        <ul id=\"Register_FAQ_list\">\n                            <li>ID photo should contain your <em>full name</em> and <em>intact, clear face</em>.</li>\n                            <li>The size of photo is at most 1MB.</li>\n                            <li>...</li>\n                        </ul>\n                    </div>\n\t\t\t\t\t<div id=\"Register_FAQ_title\">Image Preview</div>\n\t\t\t\t\t<div id=\"Register_splitline\"></div>\n\t\t\t\t<div className=\"imgPreview\" id=\"Register_imgPreview\">\n\t\t\t\t  \t\t\t{$imagePreview}\n\t\t\t\t\t</div>\n                </div>\n            </div>\n\t\t\t</div>\n        )\n    }\n}\nexport default Register"]},"metadata":{},"sourceType":"module"}