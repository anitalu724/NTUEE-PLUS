{"ast":null,"code":"var _jsxFileName = \"/Users/anitalu/Desktop/NTUEE-PLUS/src/in/LoginChange.js\";\nimport React, { Component } from 'react';\nimport \"./LoginChange.css\";\nimport axios from \"axios\";\nimport refresh from \"../images/refresh.png\";\n\nclass LoginChange extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.id;\n\n      if (name === \"safe_Question\") {\n        this.setState({\n          question: value\n        });\n      }\n    };\n\n    this.btn_click = e => {\n      console.log(\"hi\");\n      e.preventDefault();\n      this.showPersonal();\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(this.state);\n\n      if (this.state === \"\") {\n        alert(\"該值不得為空\");\n      } else {\n        var r = window.confirm(\"確認更改安全問題?\");\n\n        if (r) {\n          axios.post(\"/api/chLogin\", {\n            question: this.state.question\n          }).then(res => {\n            console.log(res.data);\n\n            if (res.data) {\n              if (res.data.message === true) {\n                alert('更改完成');\n              } else {\n                alert('更改失敗');\n              }\n            }\n          });\n        }\n      }\n    };\n\n    this.state = {\n      username: '',\n      account: '',\n      question: '',\n      img: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  showPersonal() {\n    axios.post(\"/api/showPersonal\", {}).then(res => {\n      console.log(res.data);\n\n      if (res.data) {\n        if (res.data.message === true) {\n          this.setState({\n            username: res.data.data.username,\n            account: res.data.data.account,\n            question: res.data.data.SQ,\n            img: res.data.data.img\n          });\n        } else {\n          alert('錯誤：\\n' + res.data.description);\n        }\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.showPersonal();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      description: \"personalInfo\",\n      id: \"LC_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"LC_hr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Security Question Reset\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"LC_refresh_btn\",\n      onClick: this.btn_click,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: refresh,\n      alt: \"refresh\",\n      id: \"LC_refresh_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"table\", {\n      id: \"LC_table\",\n      cellSpacing: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"\\u5B78\\u865F\"), React.createElement(\"td\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.account)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u59D3\\u540D\"), React.createElement(\"td\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.state.username)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\u5B89\\u5168\\u554F\\u984C\"), React.createElement(\"td\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"LC_safe_Question\",\n      placeholder: this.state.question,\n      autoFocus: true,\n      onChange: this.handleInputChange\n      /*value={this.state.question}*/\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })))), React.createElement(\"input\", {\n      id: \"LC_submit_btn\",\n      type: \"submit\",\n      value: \"Change\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default LoginChange;","map":{"version":3,"sources":["/Users/anitalu/Desktop/NTUEE-PLUS/src/in/LoginChange.js"],"names":["React","Component","axios","refresh","LoginChange","constructor","props","handleInputChange","event","target","value","name","id","setState","question","btn_click","e","console","log","preventDefault","showPersonal","handleSubmit","state","alert","r","window","confirm","post","then","res","data","message","username","account","img","bind","SQ","description","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"./LoginChange.css\"\nimport axios from \"axios\";\nimport refresh from \"../images/refresh.png\"\n\nclass LoginChange extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername:'',\n\t\t\taccount:'',\n\t\t\tquestion:'',\n\t\t\timg:''\n\t\t};\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t}\n\t\n\tshowPersonal(){\n\t\taxios.post(\"/api/showPersonal\", \n\t\t\t{}\n\t\t).then(res => {\n\t\t\tconsole.log(res.data);\n\t\t\t\tif(res.data){\n\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tusername:res.data.data.username,\n\t\t\t\t\t\t\taccount:res.data.data.account,\n\t\t\t\t\t\t\tquestion:res.data.data.SQ,\n\t\t\t\t\t\t\timg:res.data.data.img\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\talert('錯誤：\\n'+res.data.description);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t})\n\t}\n\t\n\thandleInputChange=event=>{\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\tif(name===\"safe_Question\"){\n\t\t\tthis.setState({question: value});\n\t\t}\n\t}\n\t\n\tcomponentDidMount(){\n\t\tthis.showPersonal();\n\t}\n\t\n\tbtn_click=e=>{\n\t\tconsole.log(\"hi\")\n\t\te.preventDefault();\n\t\tthis.showPersonal();\n\t}\n\t\n\thandleSubmit=event=>{\n\t\tevent.preventDefault();\n\t\tconsole.log(this.state);\n\t\tif(this.state===\"\"){\n\t\t\talert(\"該值不得為空\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認更改安全問題?\");\n\t\t\tif(r){\n\t\t\t\taxios.post(\"/api/chLogin\", \n\t\t\t\t\t{question:this.state.question}\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res.data){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('更改完成');\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert('更改失敗');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t<div description=\"personalInfo\" id=\"LC_container\">\n\t\t\t  <div id=\"LC_hr\">Security Question Reset</div>\n\t\t\t  <form onSubmit={this.handleSubmit} >\n\t\t\t  <button id=\"LC_refresh_btn\" onClick={this.btn_click}><img src={refresh} alt=\"refresh\" id=\"LC_refresh_icon\"></img></button>\n\t\t\t  {/*<img src={this.state.img} />*/}\n\t\t\t  <table id = \"LC_table\" cellSpacing=\"10\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>學號</td>\n\t\t\t\t\t<td colSpan=\"2\">{this.state.account}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>姓名</td>\n\t\t\t\t\t<td colSpan=\"2\">{this.state.username}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>安全問題</td>\n\t\t\t\t\t<td colSpan=\"2\">\n\t\t\t\t\t\t<input id=\"LC_safe_Question\" placeholder={this.state.question} autoFocus\n\t\t\t\t\t\t\t onChange={this.handleInputChange} /*value={this.state.question}*/>\n\t\t\t\t\t\t</input>\n\t\t\t\t\t\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t\n\t\t\t  </table>\n\t\t\t  <input id=\"LC_submit_btn\" type=\"submit\" value=\"Change\" />\n\t\t\t  </form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n \nexport default LoginChange;"]},"metadata":{},"sourceType":"module"}