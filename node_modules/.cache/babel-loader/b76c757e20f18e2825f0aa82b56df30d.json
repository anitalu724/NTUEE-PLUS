{"ast":null,"code":"var _jsxFileName = \"/Users/anitalu/Desktop/NTUEE-PLUS/src/out/register_in/Register_account.js\";\nimport React, { Component } from 'react'; //import './Register.css';\n//import eesa_icon from '../images/eesa-icon.png';\n\nimport axios from 'axios';\nimport { NavBar } from '../../component/AppBar'; //import Register_account from './';\n\nclass Register_account extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Register_realname: '',\n      Register_student_id: '',\n      Register_password: '',\n      Register_confirm_password: '',\n      imagePreviewUrl: '',\n      file: null\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.id;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (false) {\n      //this.state.Register_password!==this.state.Register_confirm_password){\n      return alert(\"密碼不一致\");\n    } else {\n      var r = window.confirm(\"確認註冊?\");\n\n      if (r) {\n        var data = new FormData();\n        data.append('file', this.state.file);\n        data.append('username', this.state.Register_realname);\n        data.append('account', this.state.Register_student_id);\n        data.append('password', this.state.Register_password);\n        data.append('ConfirmPassword', this.state.Register_confirm_password);\n        console.log('data', data);\n        const config = {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        };\n        axios.post(\"/api/register\", data\n        /*{username:this.state.Register_realname,\n        account:this.state.Register_student_id,\n        password:this.state.Register_password,\n        ConfirmPassword:this.state.Register_confirm_password,\n        file:this.state.file}*/\n        , config).then(res => {\n          console.log(res.data);\n\n          if (res) {\n            if (res.data.message === true) {\n              alert('註冊成功');\n              window.location = \"/Login\";\n            } else {\n              alert('錯誤：\\n' + res.data.description);\n            }\n          }\n        }).catch(err => {\n          console.log(\"err=\", err); //[{value:\"使用者填的值\",msg:\"錯的原因\",param:\"用他拿到是誰錯\",location:\"body\"}]\n        });\n      }\n    }\n  }\n\n  handleImageChange(e) {\n    //e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    console.log('t', e.target);\n    this.setState({\n      file: file\n    });\n\n    reader.onloadend = () => {\n      console.log('onloadend');\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n    console.log(this.state.file);\n  }\n\n  render() {\n    let imagePreviewUrl = this.state.imagePreviewUrl;\n    let $imagePreview = null;\n\n    if (imagePreviewUrl) {\n      $imagePreview = React.createElement(\"img\", {\n        src: imagePreviewUrl,\n        id: \"Register_id_photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      });\n    } else {\n      $imagePreview = React.createElement(\"div\", {\n        className: \"previewText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Please select an Image for Preview\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        fontSize: \"64px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"TTest!!\"));\n  }\n\n}\n\nexport default Register_account;","map":{"version":3,"sources":["/Users/anitalu/Desktop/NTUEE-PLUS/src/out/register_in/Register_account.js"],"names":["React","Component","axios","NavBar","Register_account","constructor","props","state","Register_realname","Register_student_id","Register_password","Register_confirm_password","imagePreviewUrl","file","handleInputChange","bind","handleSubmit","handleImageChange","event","target","value","name","id","setState","preventDefault","alert","r","window","confirm","data","FormData","append","console","log","config","headers","post","then","res","message","location","description","catch","err","e","reader","FileReader","files","onloadend","result","readAsDataURL","render","$imagePreview","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import './Register.css';\n//import eesa_icon from '../images/eesa-icon.png';\nimport axios from 'axios';\nimport { NavBar } from '../../component/AppBar';\n//import Register_account from './';\nclass Register_account extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  Register_realname: '',\n\t\t  Register_student_id: '',\n\t\t  Register_password: '',\n\t\t  Register_confirm_password: '',\n\t\t  imagePreviewUrl: '',\n\t\t  file: null\n\t\t};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleImageChange = this.handleImageChange.bind(this);\n\t}\n\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\t\n\t\tthis.setState({\n\t\t  [name]: value\n\t\t});\n\t}\n\t\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tif(false){//this.state.Register_password!==this.state.Register_confirm_password){\n\t\t\treturn alert(\"密碼不一致\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認註冊?\");\n\t\t\tif(r){\n\t\t\t\tvar data = new FormData();\n\t\t\t\tdata.append('file',this.state.file)\n\t\t\t\tdata.append('username',this.state.Register_realname)\n\t\t\t\tdata.append('account',this.state.Register_student_id)\n\t\t\t\tdata.append('password',this.state.Register_password)\n\t\t\t\tdata.append('ConfirmPassword',this.state.Register_confirm_password)\n\t\t\t\tconsole.log('data',data)\n\t\t\t\tconst config = {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'content-type': 'multipart/form-data'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\taxios.post(\"/api/register\",\n\t\t\t\t\tdata\n\t\t\t\t\t/*{username:this.state.Register_realname,\n\t\t\t\t\taccount:this.state.Register_student_id,\n\t\t\t\t\tpassword:this.state.Register_password,\n\t\t\t\t\tConfirmPassword:this.state.Register_confirm_password,\n\t\t\t\t\tfile:this.state.file}*/,\n\t\t\t\t\tconfig\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('註冊成功');\n\t\t\t\t\t\t\t\twindow.location = \"/Login\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert('錯誤：\\n'+res.data.description);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(\"err=\",err);\n\t\t\t\t\t//[{value:\"使用者填的值\",msg:\"錯的原因\",param:\"用他拿到是誰錯\",location:\"body\"}]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleImageChange(e) {\n\t\t//e.preventDefault();\n\n\t\tlet reader = new FileReader();\n\t\tlet file = e.target.files[0];\n\t\tconsole.log('t',e.target)\n\t\tthis.setState({\n\t\t\tfile:file\n\t\t})\n\t\treader.onloadend = () => {\n\t\t\tconsole.log('onloadend');\n\t\t  this.setState({\n\t\t\timagePreviewUrl: reader.result\n\t\t  });\n\t\t}\n\n\t\treader.readAsDataURL(file)\n\t\tconsole.log(this.state.file)\n\t}\n\t\n    render(){\n\t\tlet {imagePreviewUrl} = this.state;\n\t\tlet $imagePreview = null;\n\t\tif (imagePreviewUrl) {\n\t\t  $imagePreview = (<img src={imagePreviewUrl} id=\"Register_id_photo\"/>);\n\t\t} else {\n\t\t  $imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\n\t\t}\n        return(\n\t\t\t<div>\n\t\t\t\t<p style={{fontSize:\"64px\"}}>TTest!!</p>\n            {/*<div id=\"Register_container\">\n\t\t\t\t\n                <div id=\"Register_register_table\">\n                    <h1 id=\"Register_table_title\">Just A Few Steps to Join EE+!</h1>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<div id=\"Register_table\">\n\t\t\t\t\t\t\t<div id=\"Register_input1\">\n\t\t\t\t\t\t\t\t<p id=\"Register_realname_label\">Your Name</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_realname\" placeholder=\"Your Chinese Name\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input2\">\n\t\t\t\t\t\t\t\t<p id=\"Register_ID_label\">Student ID</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_student_id\" placeholder=\"Student ID\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input3\">\n\t\t\t\t\t\t\t\t<p id=\"Register_password_label\">Password</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_password\" placeholder=\"Set Your Password\" type=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input4\">\n\t\t\t\t\t\t\t\t<p id=\"Register_confirm_password_label\">Confirm Password</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_confirm_password\" placeholder=\"Confirm Your Password\" type=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input5\">\n\t\t\t\t\t\t\t\t<p id=\"Register_question_label\">Question</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_question\" placeholder=\"ex: the name of your first pet, etc...\" type=\"text\"\n\t\t\t\t\t\t\t\t onChange = {this.handleInputChange}></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input6\">\n\t\t\t\t\t\t\t\t<p id=\"Register_image_label\">Upload Image</p>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input className=\"fileInput\" id=\"Register_fileinput\" \n\t\t\t\t\t\t\t\t\t\ttype=\"file\" \n\t\t\t\t\t\t\t\t\t\tonChange={this.handleImageChange} \n\t\t\t\t\t\t\t\t\t\tname=\"file\"/>\n\t\t\t\t\t\t\t\t<span id=\"Register_addImage_icon\">➕ <p style={{display:\"inline\",fontSize:\"18px\"}}>Add Your ID Photo</p></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button id=\"Register_register_button\" onclick={this.handleSubmit}>\n\t\t\t\t\t\t\t<p id=\"Register_register_text\">Register</p>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n                </div>\n\t\t\t\t\n                <div id=\"Register_FAQ\">\n                    <div id=\"Register_FAQ_title\">FAQ</div>\n                    <div id=\"Register_splitline\"></div>\n                    <div id=\"Register_FAQ_content\">\n                        <ul id=\"Register_FAQ_list\">\n                            <li>ID photo should contain your <em>full name</em> and <em>intact, clear face</em>.</li>\n                            <li>The size of photo is at most 1MB.</li>\n                            <li>...</li>\n                        </ul>\n                    </div>\n\t\t\t\t\t<div id=\"Register_FAQ_title\">Image Preview</div>\n\t\t\t\t\t<div id=\"Register_splitline\"></div>\n\t\t\t\t<div className=\"imgPreview\" id=\"Register_imgPreview\">\n\t\t\t\t  \t\t\t{$imagePreview}\n\t\t\t\t\t</div>\n                </div>\n\t\t</div>*/}\n\t\t\t</div>\n        )\n    }\n}\nexport default Register_account"]},"metadata":{},"sourceType":"module"}